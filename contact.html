<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A'tsimaani - Contact</title>

  <link rel="stylesheet" href="main.css" />
  <link rel="icon" type="image/x-icon" href="img/logo.ico">
</head>

<body>
<body>
<div id="header"></div>

<script>
  fetch('smallheader.html')
    .then(r => {
      if (!r.ok) throw new Error('Could not load header.html');
      return r.text();
    })
    .then(html => {
      document.getElementById('header').innerHTML = html;
      initSearch(); // this will work after we define initSearch below
    })
    .catch(err => console.error('Header load failed:', err));
</script>
  
    <!-- MAIN -->
<main>
  <div class="wrap">

    <header class="page-head">
      <h1 class="page-title">Contact</h1>
      <p class="page-subtitle">
        Questions about A’tsimaani, registration, or participation? Get in touch with the conference organizers.
      </p>
    </header>

    <section class="contact-layout" aria-label="Contact information and map">

      <!-- Left: Contact cards -->
      <div class="contact-stack">

        <div class="panel">
          <h2 class="panel-title">Contact details</h2>

          <dl class="meta-list">
            <div class="meta-row">
              <dt>Email</dt>
              <dd><a class="textlink" href="mailto:atsimaaniconference@uleth.ca">atsimaaniconference@uleth.ca</a></dd>
            </div>

            <div class="meta-row">
              <dt>Location</dt>
              <dd>
                University of Lethbridge<br>
                4401 University Dr W<br>
                Lethbridge, AB T1K 3M4
              </dd>
            </div>
          </dl>
        </div>

        <div class="panel panel--muted">
          <h2 class="panel-title">Accessibility</h2>
          <p class="panel-text">
            If you have accessibility needs or require accommodations, please contact us in advance so we can support your participation.
          </p>
        </div>

      </div>

      <!-- Right: Map -->
      <div class="panel map-panel">
        <h2 class="panel-title">Map</h2>

        <div class="map-box" role="region" aria-label="Conference location map">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2581.7090482313038!2d-112.86269262413897!3d49.678619042637074!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x536e862d04431e1b%3A0x90850efeb876872b!2sUniversity%20of%20Lethbridge!5e0!3m2!1sen!2sca!4v1768104114181!5m2!1sen!2sca"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="University of Lethbridge"
          ></iframe>
        </div>
    </section>

  </div>
</main>

        <!-- FOOTER -->
    <footer class="site-footer">
      <div class="footer-inner">
        <p class="footer-text">© <span id="year"></span> A'tsimaani. All rights reserved.</p>
        <a class="footer-contact" href="contact.html">Contact</a>
      </div>
    </footer>

  </div><!-- /.layout -->

  <!-- JS ONLY FOR SEARCH -->
  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Search modal
    const body = document.body;
    const searchBtn = document.getElementById('searchBtn');
    const search = document.getElementById('search');
    const searchClose = document.getElementById('searchClose');
    const searchOverlay = document.getElementById('searchOverlay');
    const searchInput = document.getElementById('searchInput');
    const searchResults = document.getElementById('searchResults');

    // Add pages here as you create them
    const searchIndex = [
      { title: "Home", url: "index.html", keywords: "conference homepage" },
      { title: "About", url: "about.html", keywords: "about theme mission" },
      { title: "Program", url: "program.html", keywords: "schedule sessions panels workshop dinner lunch breakfast food banquet" },
      { title: "Registration", url: "registration.html", keywords: "register fees deadlines" },
      { title: "Contact", url: "./", keywords: "email contact inge genee" },
      { title: "Keynote speakers", url: "keynotes/overview.html", keywords: "keynotes speakers leroy little Bear niitsitapi ai abundance intelligence michael sullivan aiyana twigg weber" },
      { title: "For attendees", url: "participants/overview.html", keywords: "travel accessibility accommodations support" },
      { title: "Accommodations", url: "participants/accommodations.html", keywords: "hotel lodging stay" },
      { title: "Financial support", url: "participants/financial.html", keywords: "funding bursary travel grant" }
    ];

    function openSearch() {
      body.classList.add('search-open');
      search.setAttribute('aria-hidden', 'false');
      searchOverlay.setAttribute('aria-hidden', 'false');
      searchInput.value = '';
      searchResults.innerHTML = '';
      searchInput.focus();
    }

    function closeSearch() {
      body.classList.remove('search-open');
      search.setAttribute('aria-hidden', 'true');
      searchOverlay.setAttribute('aria-hidden', 'true');
      searchBtn.focus();
    }

    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, s => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[s]));
    }

    function runSearch(q){
      const query = q.trim().toLowerCase();
      if(!query){
        searchResults.innerHTML = "";
        return;
      }

      const results = searchIndex.filter(item => {
        const hay = (item.title + " " + item.keywords).toLowerCase();
        return hay.includes(query);
      }).slice(0, 12);

      if(results.length === 0){
        searchResults.innerHTML = `<p class="search__empty">No results for “${escapeHtml(q)}”.</p>`;
        return;
      }

      searchResults.innerHTML = `
        <ul class="search__list">
          ${results.map(r => `
            <li class="search__item">
              <a class="search__link" href="${r.url}">${escapeHtml(r.title)}</a>
              <span class="search__url">${escapeHtml(r.url)}</span>
            </li>
          `).join("")}
        </ul>
      `;
    }

    searchBtn.addEventListener('click', openSearch);
    searchClose.addEventListener('click', closeSearch);
    searchOverlay.addEventListener('click', closeSearch);
    searchInput.addEventListener('input', (e) => runSearch(e.target.value));

    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && body.classList.contains('search-open')) closeSearch();
    });
  </script>

</body>
</html>
